header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 999;
  background-color: #0f0f10;
  border-bottom: 1px solid #1f1f1f;
  transition: height 0.4s ease, transform 0.4s ease;
  /* overflow: hidden; */
}

/* وقتی فشرده می‌شه */
header.compact {
  height: 68px;
}

/* وقتی عادیه */
header.expanded {
  height: 130px;
}

/* ====== بخش اول ====== */
header .top-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 15px;
  transition: transform 0.4s ease, opacity 0.4s ease;
  background-color: rgba(22, 22, 28, 0.7);
}

header.compact .top-bar {
  transform: translateY(-100%);
  opacity: 0;
}

header .top-left {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 14px;
  font-weight: 500;
}
header .top-left .distribute {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 4px;
  position: relative;
}
.distribute:hover .submenu {
  display: flex !important;
  transform: translateY(0);
  opacity: 1;
  transition: transform 0.4s ease, opacity 0.4s ease;
  width: 200px;
  height: auto;
}
.distribute .submenu {
  display: none;
  background: rgba(5, 5, 217, 0.7);
  backdrop-filter: blur(50px);
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: rgba(0, 0, 0, 0.1) 0px 32px 16px, rgba(0, 0, 0, 0.1) 0px 16px 8px,
    rgba(0, 0, 0, 0.1) 0px 8px 4px, rgba(0, 0, 0, 0.1) 0px 4px 2px,
    rgba(0, 0, 0, 0.1) 0px 2px 1px;
}
header .top-left .img {
  height: 28px;
  position: relative;
  padding-bottom: 20px;
}

header .top-left .img:hover .submenu,
header .top-left .submenu:hover {
  display: flex !important;
  flex-direction: row;
  align-items: flex-start; /* برای تراز کردن از بالا */
  /* gap: 24px; */
}

header .top-left img {
  height: 28px;
}

header .top-left .submenu {
  display: none;
  background: rgba(48, 48, 52, 0.7);
  backdrop-filter: blur(50px);
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: rgba(0, 0, 0, 0.1) 0px 32px 16px, rgba(0, 0, 0, 0.1) 0px 16px 8px,
    rgba(0, 0, 0, 0.1) 0px 8px 4px, rgba(0, 0, 0, 0.1) 0px 4px 2px,
    rgba(0, 0, 0, 0.1) 0px 2px 1px;
  max-height: 37.5rem;
  width: 38.75rem;
  position: absolute;
  top: 48px;
  left: -30px;
  /* padding: 32px 40px; */
  z-index: 999;
}
.distribute p {
  margin-bottom: 0px !important;
}
.distribute::before {
  content: "";
  position: absolute;
  top: 100%;
  left: -30px;
  width: 38.75rem;
  height: 20px;
  background: transparent;
  display: none;
}
.distribute::before {
  content: "";
}

.distribute:hover::before {
  display: block;
}
header .top-left .img {
  /* width: 200px; */
  display: flex;
  align-items: flex-start;
  flex-direction: row;
  gap: 4px;
}
header .top-left .img img {
  width: 32px;
  height: 32px;
}
header .top-left .img:hover svg {
  rotate: 0deg;
  transition: rotate 0.4s ease;
}
header .top-left .img svg {
  rotate: -180deg;
  height: 12px;
  width: 12px;
  margin-top: 8px;
  color: #fff !important;
}
/* پل نامرئی بین لوگو و منو */
header .top-left .img::before {
  content: "";
  position: absolute;
  top: 100%;
  left: -30px;
  width: 38.75rem;
  height: 20px;
  background: transparent;
  display: none;
}
header .top-left .img::before {
  content: "";
}

header .top-left .img:hover::before {
  display: block;
}
header .submenu > ul {
  padding: 0px 40px 0px 40px;
}
header .submenu > div,
header .submenu > ul {
  flex: 1;
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center; /* مرکز کردن عمودی */
  min-height: 0; /* برای flex کار کردن درست */
  /* padding: 32px 40px; */
}

/* خط عمودی جداکننده سمت راست */
header .submenu > div::after,
header .submenu > ul:not(:last-child)::after {
  content: "";
  position: absolute;
  right: -12px;
  top: 0;
  bottom: 0;
  width: 1px;
  background: rgba(255, 255, 255, 0.1);
}

/* خط افقی بین Play/Discover */
header .submenu > div > ul:last-child::after {
  content: "";
  position: absolute;
  /* bottom: -12px; */
  left: 0;
  right: 0;
  /* top: 150px; */
  height: 1px;
  width: calc(100% + 12px);
  background: rgba(255, 255, 255, 0.1);
  z-index: 1;
}

header .submenu > div {
  gap: 24px; /* فاصله بین Play و Discover */
}

header .submenu ul {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

header .submenu ul p {
  font-weight: 700;
  line-height: 120%;
  font-size: 20px;
  color: #ffffff;
  margin-top: 40px;
  letter-spacing: -0.01875rem;
  padding-top: 32px;
  padding-bottom: 8px;
}

header .submenu ul li {
  font-size: 14px;
  font-weight: 600;
  color: #fff;
  border-radius: 6px;
  padding: 8px 14px;
  padding-left: 0px;
}
header .submenu ul li:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

header .submenu ul li a {
  color: #fff;
  text-decoration: none;
  transition: color 0.2s;
}
header .submenu ul li a .logo {
  width: 24px;
  height: 24px;
  margin-right: 8px;
}

header .top-left a {
  text-decoration: none;
  color: #fff;
  font-weight: 600;
}
header .top-left a:hover {
  color: #c5c4c4;
  transition: color 0.3s ease;
}

header .top-right {
  display: flex;
  align-items: center;
  gap: 16px;
}

header .top-right button {
  background: none;
  border: none;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
}
header .top-right button svg {
  width: 24px;
  height: 24px;
}
header .top-right .sign-in-btn {
  background-color: rgba(255, 255, 255, 0.15);
  padding: 5px 14px;
  border-radius: 6px;
  color: #fff;
  font-weight: 600;
}

header .top-right .download-btn {
  background-color: rgb(38, 187, 255);
  padding: 5px 14px;
  border-radius: 6px;
  font-weight: 600;
  color: #000000;
}

header .top-right .download-btn:hover {
  background-color: #0091ff;
}

/* ====== بخش دوم ====== */
header .bottom-bar {
  width: 100%;
  padding: 20px 50px;
  display: flex;
  align-items: center;
  gap: 40px;
  transition: transform 0.4s ease, opacity 0.4s ease;
  background-color: rgb(16, 16, 20);
  z-index: 998;
}

header.expanded .bottom-bar {
  transform: translateY(0);
  opacity: 1;
  z-index: 998;
}

header.compact .bottom-bar {
  transform: translateY(-68px);
}

/* ====== Search box ====== */
header .search-box {
  display: flex;
  align-items: center;
  /* background-color: #1e1e1f; */
  border-radius: 40px;
  /* padding: 8px 14px; */
  /* width: 260px; */
  transition: background 0.3s ease;
}

header .search-box:hover {
  background-color: #2a2a2b;
}

header .search-box input {
  background: transparent;
  border: none;
  outline: none;
  color: #dcdcdc;
  margin-left: 8px;
  width: 100%;
  font-size: 14px;
}

header .search-box input::placeholder {
  color: #8f8f8f;
}

header .search-box svg {
  width: 20px;
  height: 20px;
  stroke: #bfbfbf;
}

/* ====== Nav links ====== */
header .nav-links {
  display: flex;
  align-items: center;
  gap: 24px;
  margin-left: 20vw;
}

header .nav-links a {
  text-decoration: none;
  color: #888;
  font-size: 15px;
  transition: color 0.3s ease;
}

header .nav-links a.active {
  color: rgb(255, 255, 255);
}

/* Mobile menu toggle button */
.mobile-menu-toggle {
  display: none;
  background: transparent;
  border: none;
  color: #fff;
  cursor: pointer;
  padding: 8px;
}

@media (max-width: 767px) {
  .mobile-menu-toggle {
    display: block;
  }

  /* Hide desktop menu on mobile */
  .top-bar .top-left .img .submenu {
    display: none !important;
  }
}
/* Offcanvas from top - Full screen */
.offcanvas {
  position: fixed;
  top: -100%;
  left: 0;
  width: 100%;
  height: 100vh;
  background-color: #18181c;
  z-index: 1050;
  transition: top 0.3s ease;
  overflow-y: auto;
}

.offcanvas.offcanvas-top.show {
  top: 0;
}

.offcanvas-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.offcanvas-title {
  color: #fff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.btn-close {
  background: transparent;
  border: none;
  color: #fff;
  cursor: pointer;
  padding: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.btn-close:hover {
  opacity: 0.7;
}

.offcanvas-body {
  padding: 30px 20px;
  display: flex;
  flex-direction: column;
  gap: 40px;
}

.offcanvas-section {
  width: 100%;
}

.offcanvas-section h3 {
  color: #9e9e9e;
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 20px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.offcanvas-section ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
}

.offcanvas-section li {
  width: 100%;
}

.offcanvas-section li a {
  display: flex;
  align-items: center;
  gap: 16px;
  color: #fff;
  text-decoration: none;
  padding: 12px 0;
  transition: all 0.15s ease;
  font-size: 16px;
}

.offcanvas-section li a:hover {
  color: #fff;
  opacity: 0.7;
}

.offcanvas-section li a img.logo {
  width: 32px;
  height: 32px;
  object-fit: contain;
  flex-shrink: 0;
}

/* Backdrop */
.offcanvas-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.7);
  z-index: 1040;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.offcanvas-backdrop.show {
  opacity: 1;
}

/* Hide desktop submenu on mobile */
@media (max-width: 767px) {
  .top-bar .top-left .img .submenu {
    display: none !important;
  }

  .top-bar .top-left .img svg {
    cursor: pointer;
  }
}

/* Optional: Add padding for better spacing on larger mobile screens */
@media (min-width: 480px) and (max-width: 767px) {
  .offcanvas-body {
    padding: 40px 30px;
  }

  .offcanvas-section ul {
    gap: 20px;
  }
}

.offcanvas.offcanvas-top.show {
  top: 0;
  height: 100%;
}
